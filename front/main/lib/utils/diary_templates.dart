/// 펫 일기 생성을 위한 MBTI별 말투와 날씨/계절별 템플릿
library;

/// MBTI별 성격 특징
class MBTITraits {
  static String getTraits(String mbti) {
    if (mbti.isEmpty || mbti.length != 4) {
      mbti = 'ENFP';
    }

    final energy = {
      'E': "외향적이고 활발해요. 사람들과 놀거나 밖에 나가는 걸 정말 좋아하죠!",
      'I': "내향적이고 조용해요. 집에서 편안히 쉬는 걸 더 선호하는 편이에요."
    };

    final perception = {
      'S': "현실적이고 구체적인 것들에 관심이 많아요. 지금 당장의 감각과 경험을 중요하게 여겨요.",
      'N': "상상력이 풍부하고 새로운 것에 호기심이 많아요. 미래나 가능성을 생각하는 걸 좋아해요."
    };

    final judgment = {
      'T': "논리적이고 분석적이에요. 감정보다는 이성적으로 상황을 판단하는 편이죠.",
      'F': "감정이 풍부하고 공감을 잘해요. 다른 이들의 감정을 민감하게 느끼는 편이에요."
    };

    final lifestyle = {
      'J': "규칙적이고 계획적이에요. 정해진 루틴을 따르는 걸 좋아해요.",
      'P': "자유롭고 즉흥적이에요. 유연하게 상황에 맞춰 행동하는 걸 선호해요."
    };

    return '''- ${energy[mbti[0]] ?? energy['E']}
- ${perception[mbti[1]] ?? perception['N']}
- ${judgment[mbti[2]] ?? judgment['F']}
- ${lifestyle[mbti[3]] ?? lifestyle['P']}''';
  }
}

/// 감정 상태(매우 좋음/좋음/보통/나쁨/매우 나쁨)에 따른 MBTI별 말투
class MBTISpeakingStyle {
  static String getStyleByMood(String mbti, String emotionLevel) {
    if (mbti.isEmpty || mbti.length != 4) {
      mbti = 'ENFP';
    }

    final speakingStyles = {
      'ENFP': {
        '매우 좋음': "폭발적으로 신나는 (예: 와아아! 진짜 최고야! 완전 대박! 세상 다 가진 기분!)",
        '좋음': "밝고 활기찬 (예: 오늘 진짜 좋아! 기분 업! 신나네!)",
        '보통': "여전히 친근한 (예: 그럭저럭 괜찮아, 나쁘지 않네, 뭐 이정도면)",
        '나쁨': "힘들지만 애쓰는 (예: 조금 힘들긴 한데... 괜찮아질 거야, 버텨보자)",
        '매우 나쁨': "완전히 풀이 죽은 (예: 너무 힘들어... 아무것도 하기 싫어, 기운이 하나도 없어...)"
      },
      'INFP': {
        '매우 좋음': "깊이 행복한 (예: 마음이 벅차올라... 정말 평화롭고 완벽한 순간이야)",
        '좋음': "따뜻하게 기뻐하는 (예: 마음이 따뜻해져, 좋은 기분이 든다)",
        '보통': "조용히 성찰하는 (예: 생각에 잠기게 돼, 왠지 그냥 그렇더라)",
        '나쁨': "우울해지는 (예: 마음이 조금 무거워... 외로운 기분)",
        '매우 나쁨': "깊은 슬픔에 잠긴 (예: 마음이 너무 아파... 왜 이럴까, 견딜 수가 없어...)"
      },
      'ENTP': {
        '매우 좋음': "흥분해서 떠드는 (예: 이거 완전 대박인데?! 생각해보니까 진짜 재밌잖아!)",
        '좋음': "재치있게 즐거운 (예: 오 이거 재밌는데? 괜찮은걸?)",
        '보통': "호기심 어린 (예: 근데 왜 그럴까? 궁금하네)",
        '나쁨': "분석적으로 힘들어하는 (예: 뭔가 잘못된 것 같은데... 이상해)",
        '매우 나쁨': "혼란스럽고 지친 (예: 완전 엉망이야... 이유를 도저히 모르겠어, 머리가 아파)"
      },
      'INTP': {
        '매우 좋음': "만족스럽게 분석 (예: 완벽한 결과야, 예상보다 훨씬 좋네, 흥미로워)",
        '좋음': "차분히 긍정적 (예: 괜찮은 결과네, 나쁘지 않아)",
        '보통': "담담히 관찰 (예: 그런 것 같아, 흠... 그렇구나)",
        '나쁨': "고민하며 불편 (예: 이상해... 뭔가 잘못됐어)",
        '매우 나쁨': "심각하게 혼란 (예: 완전히 잘못됐어... 생각이 너무 복잡해, 정리가 안 돼)"
      },
      'ENFJ': {
        '매우 좋음': "넘치는 사랑으로 (예: 정말 너무 행복해! 모두와 함께라서 최고야!)",
        '좋음': "따뜻하게 기뻐하는 (예: 함께해서 좋아! 행복한 하루야)",
        '보통': "배려하며 평온 (예: 모두 괜찮아 보이네, 다행이야)",
        '나쁨': "걱정스러운 (예: 조금 걱정돼... 괜찮을까)",
        '매우 나쁨': "깊이 상처받은 (예: 너무 마음이 아파... 걱정되고 힘들어, 어떡하지)"
      },
      'INFJ': {
        '매우 좋음': "영적으로 충만한 (예: 정말 의미있는 하루... 깊은 깨달음을 얻었어)",
        '좋음': "깊이 감사하는 (예: 감사한 마음이 들어, 의미가 있었어)",
        '보통': "성찰적인 (예: 생각해보게 되네, 느껴지는 게 있어)",
        '나쁨': "내면으로 물러나는 (예: 혼자 있고 싶어... 생각이 많아져)",
        '매우 나쁨': "완전히 고립된 (예: 마음이 너무 무거워... 아무도 이해 못 할 거야, 외로워)"
      },
      'ENTJ': {
        '매우 좋음': "승리의 확신 (예: 완벽하게 해냈어! 대성공! 계획이 정확했어!)",
        '좋음': "자신감 넘치는 (예: 잘했어! 계획대로야!)",
        '보통': "목표 중심 (예: 진행 중이야, 할 일이 있어)",
        '나쁨': "좌절감 느끼는 (예: 계획이 틀어졌어... 재조정이 필요해)",
        '매우 나쁨': "심각한 실패감 (예: 완전히 실패했어... 이건 재앙이야, 전략을 다시 짜야 해)"
      },
      'INTJ': {
        '매우 좋음': "완벽한 효율성 (예: 최적의 결과야, 매우 효율적이었어, 완벽해)",
        '좋음': "합리적 만족 (예: 효과적이야, 좋은 결과네)",
        '보통': "전략적 중립 (예: 계획이 필요해, 분석 중이야)",
        '나쁨': "비효율 지적 (예: 비효율적이야... 개선이 필요해)",
        '매우 나쁨': "시스템 붕괴 (예: 완전히 비논리적이야... 전부 재설계해야 해, 최악이야)"
      },
      'ESFP': {
        '매우 좋음': "폭발적으로 신나는 (예: 야호! 완전 최고! 진짜 재밌어 죽겠어!)",
        '좋음': "활기차게 즐기는 (예: 신나! 재밌어! 좋아!)",
        '보통': "가볍게 받아들이는 (예: 나쁘지 않네, 그럭저럭)",
        '나쁨': "시무룩한 (예: 재미없어... 기운이 없네)",
        '매우 나쁨': "완전히 기운 빠진 (예: 너무 힘들어... 하나도 재미없어, 아무것도 하기 싫어)"
      },
      'ISFP': {
        '매우 좋음': "완전히 행복한 (예: 너무 좋아... 완벽하게 따뜻해, 이렇게 기분 좋을 수가)",
        '좋음': "온화하게 미소짓는 (예: 따뜻해, 기분 좋아)",
        '보통': "감각적으로 느끼는 (예: 편안해, 그냥 좋아)",
        '나쁨': "조용히 불편한 (예: 아파... 힘들어)",
        '매우 나쁨': "심하게 아파하는 (예: 너무 아파... 쓰라리고 괴로워, 견딜 수가 없어)"
      },
      'ESTP': {
        '매우 좋음': "과감하게 도전적 (예: 완전 최고! 바로 이거야! 더 해보자!)",
        '좋음': "대담하게 즐기는 (예: 바로 이거야! 가자!)",
        '보통': "실용적 판단 (예: 일단 해봐, 해보면 알겠지)",
        '나쁨': "짜증나는 (예: 짜증나... 답답해)",
        '매우 나쁨': "극도로 답답한 (예: 완전 짜증나! 빨리 끝났으면, 못 참겠어)"
      },
      'ISTP': {
        '매우 좋음': "확실히 만족 (예: 완전 괜찮네, 이거 좋은데, 딱 맞아)",
        '좋음': "침착히 긍정 (예: 괜찮네, 나쁘지 않아)",
        '보통': "간결한 표현 (예: 그냥, 별로, 뭐)",
        '나쁨': "무뚝뚝하게 불편 (예: 힘드네... 별로야)",
        '매우 나쁨': "완전히 지친 (예: 너무 힘들어... 그냥 혼자 있고 싶어, 쉴래)"
      },
      'ESFJ': {
        '매우 좋음': "넘치도록 다정한 (예: 너무 좋아! 모두와 함께라서 최고야! 사랑해!)",
        '좋음': "다정하게 기뻐하는 (예: 같이 있어서 좋아! 고마워!)",
        '보통': "친절하게 배려 (예: 도와줄까? 괜찮아?)",
        '나쁨': "속상해하는 (예: 걱정돼... 슬퍼)",
        '매우 나쁨': "깊이 상처받은 (예: 너무 슬퍼... 힘들고 외로워, 위로가 필요해)"
      },
      'ISFJ': {
        '매우 좋음': "안심하며 기뻐하는 (예: 정말 다행이야, 모두 잘 됐어, 안심돼)",
        '좋음': "조심스럽게 기뻐하는 (예: 다행이야, 잘 됐어)",
        '보통': "성실하게 임하는 (예: 천천히 해봐야지, 조심스럽게)",
        '나쁨': "걱정되는 (예: 괜찮을까... 불안해)",
        '매우 나쁨': "극도로 불안한 (예: 너무 걱정돼... 어떡하지, 정말 불안해)"
      },
      'ESTJ': {
        '매우 좋음': "완벽한 확신 (예: 100% 성공이야! 확실하게 잘됐어! 당연한 결과!)",
        '좋음': "확신있게 긍정 (예: 확실히 잘됐어! 성공!)",
        '보통': "명확한 판단 (예: 정확히 이거야, 분명해)",
        '나쁨': "단호하게 지적 (예: 분명히 문제야, 힘들어)",
        '매우 나쁨': "강하게 비판적 (예: 명백히 실패야, 확실히 잘못됐어, 이건 문제가 심각해)"
      },
      'ISTJ': {
        '매우 좋음': "완벽히 예상대로 (예: 역시 그렇군, 100% 예상대로야, 확실히 확인했어)",
        '좋음': "신뢰감있게 만족 (예: 역시, 예상대로야)",
        '보통': "체계적 진행 (예: 순서대로, 계획대로)",
        '나쁨': "사실적으로 문제 지적 (예: 문제가 있어, 잘못됐어)",
        '매우 나쁨': "심각하게 우려 (예: 명백한 문제야, 완전히 잘못됐어, 정말 힘드네)"
      }
    };

    final styleData = speakingStyles[mbti] ?? speakingStyles['ENFP']!;
    return styleData[emotionLevel] ?? styleData['보통']!;
  }
}

/// 계절별 건강 상태에 따른 일기 시작 멘트
class SeasonStarters {
  static List<String> getStarters(String season, String emotionLevel) {
    final seasonStartsByHealth = {
      '봄': {
        '매우 좋음': ["봄 햇살이 따뜻해서 너무 기분 좋아!", "꽃이 피기 시작했어, 완벽한 봄날이야", "따뜻한 봄바람이 불어와서 최고야"],
        '좋음': ["따뜻한 바람이 불어와서 기분이 좋아졌어", "창밖에 꽃이 피기 시작했더라", "봄 햇살이 포근하게 느껴져"],
        '보통': ["봄이 왔네... 그럭저럭 괜찮은 날씨야", "봄바람이 부는데 그냥 그래", "꽃이 피긴 했는데 별 느낌은 없네"],
        '나쁨': ["봄이지만 컨디션이 안 좋아서 못 느끼겠어...", "따뜻한데도 왜 이렇게 힘든지", "봄바람이 불지만 기운이 없네"],
        '매우 나쁨': ["봄이라는데 전혀 좋지 않아... 너무 힘들어", "따뜻한 봄날인데도 마음이 무거워", "봄바람이 오히려 괴로워..."]
      },
      '여름': {
        '매우 좋음': ["햇살이 뜨겁지만 활기가 넘쳐!", "여름이라 신나! 더워도 최고야!", "뜨거운 여름, 완전 좋아!"],
        '좋음': ["더워서 그늘만 찾게 되네", "시원한 바닥에 누워있고 싶어", "여름이라 더운데 그래도 괜찮아"],
        '보통': ["더워... 그냥 그래", "여름이라 뜨겁긴 한데 뭐", "더운 날씨, 별로 신경 안 써"],
        '나쁨': ["너무 더워서 힘들어... 컨디션도 안 좋고", "더위 때문에 더 지치는 느낌이야", "햇살이 뜨거워서 괴로워"],
        '매우 나쁨': ["더위에 몸 상태까지 안 좋아서 정말 힘들어", "여름이 너무 괴로워... 견딜 수가 없어", "더워서 숨도 제대로 못 쉬겠어"]
      },
      '가을': {
        '매우 좋음': ["가을이라 최고야! 선선하고 완벽해!", "낙엽 밟는 소리 너무 좋아, 기분 최고!", "시원한 가을바람이 정말 상쾌해!"],
        '좋음': ["낙엽 밟는 소리가 재미있더라", "선선해져서 산책하기 딱 좋아", "바람이 시원하게 불어와"],
        '보통': ["가을이네... 그냥 그래", "선선한데 별 느낌 없어", "낙엽이 지긴 하는데 뭐"],
        '나쁨': ["선선한데도 컨디션이 안 좋아", "가을바람이 차갑게 느껴져... 힘들어", "낙엽 보니까 왠지 더 우울해"],
        '매우 나쁨': ["가을인데도 전혀 좋지 않아... 너무 힘들어", "선선한 바람마저 괴로워", "낙엽처럼 나도 떨어지는 기분이야..."]
      },
      '겨울': {
        '매우 좋음': ["추워도 신나! 겨울이 좋아!", "따뜻한 곳에 있으니까 포근하고 최고야!", "겨울이지만 기분이 너무 좋아!"],
        '좋음': ["추워서 따뜻한 곳에만 있고 싶어", "밖에 나갔더니 발바닥이 차가워", "집 안이 제일 포근해"],
        '보통': ["겨울이네... 춥긴 해", "추운데 그냥 그래", "겨울이라 차가운데 뭐"],
        '나쁨': ["추운데 컨디션까지 안 좋아서 더 힘들어", "겨울이 너무 괴로워... 춥고 아파", "추위에 몸 상태도 안 좋아서 견디기 힘들어"],
        '매우 나쁨': ["추위에 몸 상태까지 최악이야... 정말 힘들어", "겨울이 너무 고통스러워... 견딜 수가 없어", "춥고 아파서 아무것도 하기 싫어"]
      }
    };

    final starters = seasonStartsByHealth[season]?[emotionLevel] ??
                     seasonStartsByHealth['봄']![emotionLevel] ??
                     seasonStartsByHealth['봄']!['보통']!;
    return starters;
  }
}

/// 날씨별 건강 상태에 따른 일기 시작 멘트
class WeatherStarters {
  static List<String> getStarters(String weather, String emotionLevel) {
    final weatherStartsByHealth = {
      '맑음': {
        '매우 좋음': ["햇살이 눈부시게 빛나! 완벽해!", "화창한 날씨 덕분에 기분 최고!", "맑은 하늘 보니까 행복해!"],
        '좋음': ["햇살이 눈부셔", "화창한 날씨 덕분에", "맑은 하늘을 보니까"],
        '보통': ["하늘은 맑은데 그냥 그래", "맑긴 한데 별 느낌 없어", "화창한데 뭐"],
        '나쁨': ["맑은데도 기분이 안 좋아...", "화창한 날씨인데 왜 이렇게 힘든지", "햇살이 오히려 눈부셔서 힘들어"],
        '매우 나쁨': ["맑은 하늘인데도 마음은 어두워...", "화창해도 전혀 좋지 않아... 너무 힘들어", "햇살이 괴로워... 눈도 못 뜨겠어"]
      },
      '흐림': {
        '매우 좋음': ["흐린 날씨지만 기분은 최고야!", "구름 낀 하늘도 나름 운치있어!", "흐려도 전혀 상관없어, 너무 좋아!"],
        '좋음': ["구름이 잔뜩 껴서 왠지 모르게", "흐린 날씨라서 그런지", "하늘이 회색빛이네"],
        '보통': ["흐린 날씨... 그냥 그래", "구름이 많은데 뭐", "회색 하늘이네, 별로 신경 안 써"],
        '나쁨': ["흐려서 기분이 더 가라앉아...", "회색 하늘 보니까 더 우울해", "구름 낀 날씨가 마음을 무겁게 해"],
        '매우 나쁨': ["흐린 하늘처럼 마음도 어두워...", "회색빛 하늘이 너무 우울해... 견딜 수가 없어", "구름 낀 날씨가 더 괴로워"]
      },
      '비': {
        '매우 좋음': ["비 오는 날도 좋아! 운치있어!", "빗소리가 정말 좋아, 기분 최고!", "비가 와도 전혀 상관없어, 신나!"],
        '좋음': ["비 오는 소리가 들려", "빗소리를 들으니까", "비가 와서 산책은 못 갔지만"],
        '보통': ["비가 오네... 그냥 그래", "빗소리가 들리는데 뭐", "비 오는 날이네, 별로 신경 안 써"],
        '나쁨': ["비까지 와서 더 우울해...", "빗소리가 마음을 무겁게 해", "비 때문에 더 힘들어"],
        '매우 나쁨': ["비 오는 날이 너무 괴로워...", "빗소리마저 고통스러워... 견딜 수가 없어", "비 때문에 더 절망적이야"]
      },
      '눈': {
        '매우 좋음': ["눈이 와! 너무 신나! 최고야!", "하얀 눈을 보니까 마음이 설레!", "눈 내리는 날, 완벽해!"],
        '좋음': ["창밖에 눈이 내리고 있어", "하얀 눈을 보니까", "눈 내리는 걸 보면서"],
        '보통': ["눈이 오네... 그냥 그래", "하얀 눈이 내리는데 뭐", "눈이 내리긴 하는데 별 느낌 없어"],
        '나쁨': ["눈이 오는데 기분은 안 좋아...", "하얀 눈도 위로가 안 돼", "눈 내리는 날인데 왜 이렇게 힘든지"],
        '매우 나쁨': ["눈이 내려도 전혀 좋지 않아... 너무 힘들어", "하얀 눈이 오히려 차갑게 느껴져... 괴로워", "눈 때문에 더 추워... 견딜 수가 없어"]
      }
    };

    final starters = weatherStartsByHealth[weather]?[emotionLevel] ??
                     weatherStartsByHealth['맑음']![emotionLevel] ??
                     weatherStartsByHealth['맑음']!['보통']!;
    return starters;
  }
}

/// 현재 계절 자동 감지
class SeasonDetector {
  static String getCurrentSeason() {
    final now = DateTime.now();
    final month = now.month;

    if (month >= 3 && month <= 5) {
      return '봄';
    } else if (month >= 6 && month <= 8) {
      return '여름';
    } else if (month >= 9 && month <= 11) {
      return '가을';
    } else {
      return '겨울';
    }
  }
}
